# 12-扩展/剩余运算符

### 扩展运算符

只要含有iterator接口的数据结构都可以使用扩展运算符。

扩展运算符可以和数组的解构赋值一起使用，但是必须放在最后一个，因为剩余/扩展运算符的原理其实是利用了数组的迭代器，它会消耗3个点后面的数组的所有迭代器，读取所有迭代器的value属性，剩余/扩展运算符后不能在有解构赋值，因为剩余/扩展运算符已经消耗了所有迭代器，而数组的解构赋值也是消耗迭代器，但是这个时候已经没有迭代器了，所以会报错

```js
let [first, ...arr] = [1,2,3,4,5,6]
first //1
arr //[2,3,4,5,6]
```

#### 类数组转数组

使用扩展运算符可以快速的将类数组转为一个真正的数组

```js
let nodelist = document.querySelectorAll('div')
let arr = [...nodelist]
arr //所有div中的dom组成的数组
```

#### 合并多个数组

```js
let arr1 = [1,2,3]
let arr2 = [4,5,6]
let arr3 = [...arr1, ...arr2] // [1,2,3,4,5,6]
```

### 剩余运算符

**要点**

- 剩余运算符最重要的一个特点就是替代了以前的arguments

访问函数的arguments对象是一个很昂贵的操作，以前的arguments.callee也被废止了，建议在支持ES6语法的环境下不要在使用arguments，使用剩余运算符替代（箭头函数没有arguments，必须使用剩余运算符才能访问参数集合）。

```js
function func(...rest) {
    console.log(rest) // [1,2,3]
}

func(1,2,3)
```

剩余运算符和扩展运算符的区别就是，剩余运算符会收集这些集合，放到右边的数组中（数字 => 数组），扩展运算符是将右边的数组拆分成元素的集合（数组 => 拆分后的数组），它们是相反的。